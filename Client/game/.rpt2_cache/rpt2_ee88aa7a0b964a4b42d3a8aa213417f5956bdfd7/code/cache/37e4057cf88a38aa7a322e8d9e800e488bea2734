{
  "code": "export class Game {\r\n    constructor() {\r\n        Laya.init(600, 400, Laya.WebGL);\r\n        this.byte = new Laya.Byte();\r\n        this.byte.endian = Laya.Byte.LITTLE_ENDIAN;\r\n        this.socket = new Laya.Socket();\r\n        this.socket.endian = Laya.Byte.LITTLE_ENDIAN;\r\n        this.socket.connectByUrl(\"ws://127.0.0.1:8001\");\r\n        this.socket.on(Laya.Event.OPEN, this, this.openHandler);\r\n        this.socket.on(Laya.Event.MESSAGE, this, this.receiveHandler);\r\n        this.socket.on(Laya.Event.CLOSE, this, this.closeHandler);\r\n        this.socket.on(Laya.Event.ERROR, this, this.errorHandler);\r\n        console.log(\"Game constructor\");\r\n    }\r\n    openHandler(event = null) {\r\n        console.log(\"connect success\");\r\n    }\r\n    receiveHandler(msg = null) {\r\n        console.log(\"receive \" + msg);\r\n        let a = true;\r\n        if (a) {\r\n            this.socket.send(\"hello world\");\r\n        }\r\n        else {\r\n            this.byte.writeByte(1);\r\n            this.byte.writeInt16(20);\r\n            this.byte.writeFloat32(20.5);\r\n            this.byte.writeUTFString(\"hello\");\r\n            var by = new Laya.Byte();\r\n            by.endian = Laya.Byte.LITTLE_ENDIAN;\r\n            by.writeInt32(5000);\r\n            by.writeUint16(16);\r\n            this.byte.writeArrayBuffer(by.buffer);\r\n            this.socket.send(this.byte.buffer);\r\n            this.byte.clear();\r\n        }\r\n    }\r\n    closeHandler(e = null) {\r\n        console.log(\"close \" + e);\r\n    }\r\n    errorHandler(e = null) {\r\n        console.log(\"error \" + e);\r\n    }\r\n}\r\n",
  "references": []
}
